# 02 — Категории, рецепты и намерения

## Категории (базовый набор)

Категории нужны для навигации и фильтрации, но не ломают семантическое ядро.

- **Деньги** — траты, доходы, долги, переводы.
- **Вещи** — покупки, продажи, подарки, инвентарь.
- **Еда** — блюда, рестораны, готовка.
- **Услуги** — подписки, сервисы, бронирования.
- **Места** — посещённые или запланированные локации.
- **Желания и планы** — намерения, мечты, задачи.
- **Опыт** — впечатления, эмоции, состояние.
- **Медиа** — фильмы, книги, музыка.
- **Спорт** — тренировки, результаты, привычки.
- **Хобби** — занятия и увлечения.
- **Заметки** — свободные наблюдения и факты.

### Почему категории ограничены

Излишнее дробление приводит к путанице и усложняет ввод. Темы вроде людей, здоровья или отдельных профессий лучше выражать через контекст и теги, а не через новые категории.

## Подкатегории

Подкатегории не выбираются вручную — их определяет ИИ (например, «Деньги → одолжил» или «Места → хочу пойти»).

## Рецепты (recipes)

**Рецепт** — описание сценария, которое определяет:

- комбинацию `action + object`;
- категорию/подкатегорию;
- обязательные и рекомендуемые поля;
- правила извлечения данных для ИИ.

Пример (Одолжил деньги):

- Action: `lent`
- Object: `money`
- Категория: Деньги → Долги
- Обязательные поля: `title`, `date`, `amount`, `person`
- Дополнительные: `note`, `tags`, `attachments`

**Добавление нового сценария** = создание нового рецепта без изменения кода.

## Намерения для фото и URL

Для входов «фото» и «ссылка» полезно спрашивать **намерение** пользователя. Это помогает ИИ правильно классифицировать запись и подобрать рецепт.

Примеры намерений:
- Покупка
- Перевод
- Хочу купить
- Хочу пойти
- Понравилось
- Документ

### Как это влияет на подбор рецепта

1. Намерение задаёт **набор приоритетных semantic‑комбинаций** (action+object).
2. ИИ получает подсказку и возвращает более точный результат.
3. Если рецепт не найден, из намерения берётся наиболее вероятный вариант.

## Границы ответственности

- **Рецепты управляют формой** и UX‑сценарием.
- **Семантическое ядро управляет логикой** и аналитикой.
- **Контекст и теги** позволяют покрыть редкие случаи без расширения ядра.
