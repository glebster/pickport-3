```md
# AI Capabilities ‚Äî Pickpock (MVP)

This document describes **what AI can do in Pickpock**,  
based strictly on the semantic core:

```

Entry = Action + Object + Context

```

AI is an **assistant**, not an authority.
User always confirms or edits results.

---

## 1. Core AI Principle

AI‚Äôs primary task is **semantic extraction**, not accounting or planning.

AI must always:
1. Identify **Action**
2. Identify **Object**
3. Extract **Context** if present
4. Return **strict JSON only**

If unsure ‚Üí fallback to:
```

action = noted
object = note

````

---

## 2. AI Input Types

AI can be invoked with:
- üì∑ Photo (receipt, food, place, item)
- üñº Screenshot (bank app, chat, booking)
- üîó URL/Link (product page, place page, booking link)
- üìù Text (free-form sentence)
- üß† Mixed (photo + short user hint)

### 2.1 URL Processing

AI can analyze product/service pages from:
- **E-commerce**: Ozon, Wildberries, AliExpress, Amazon
- **Booking**: Booking.com, Airbnb, restaurant reservations
- **Services**: Any service/product page with structured data

**What AI extracts from URLs:**
- Product/service name
- Price (if available)
- Category
- Brand/manufacturer
- Description
- Images (for visual context)
- Store/venue name

**Examples:**
- Ozon product link ‚Üí `planned + wish` or `bought + item`
- Restaurant booking ‚Üí `planned + place`
- Service page ‚Üí `planned + service`

---

## 3. AI Actions in Pickpock

### 3.1 Semantic Parsing (Primary)

**What AI does:**
- Understand *what happened* or *what is planned*
- Map it to `action + object`
- Extract minimal context

**Examples:**

| Input | AI Output |
|------|----------|
| Photo of cafe interior | `visited + place` |
| Photo of dish | `noted + food` |
| Receipt | `spent + money` |
| Bank transfer screenshot | `received + money` |
| Item photo (no receipt) | `noted + item` |
| Text: ‚Äú–•–æ—á—É —Å—Ö–æ–¥–∏—Ç—å –≤ –±–∞—Ä‚Äù | `planned + place` |

---

### 3.2 Auto-fill Entry Fields

AI can suggest:
- `title`
- `amount`
- `currency`
- `category` (flat string)
- `tags[]`
- `people[]`
- `placeText`

AI **must not invent** data.
If missing ‚Üí leave null.

---

### 3.3 AI Preview & Confidence

Every AI result includes:
- `confidence` (0‚Äì1)
- preview screen before saving

User can:
- accept
- edit
- discard

---

## 4. Supported AI Scenarios

### 4.1 "Scan & Create"
üì∑ Take a photo ‚Üí AI creates draft Entry

Used for:
- receipts
- food
- places
- items
- screenshots

### 4.1.1 "Link & Create"
üîó Paste a link ‚Üí AI fetches page and creates draft Entry

Used for:
- Product pages (Ozon, Wildberries, etc.)
- Booking links (restaurants, hotels)
- Service pages
- Any structured web page

**How it works:**
1. User pastes URL
2. AI fetches page content (title, description, price, images)
3. AI analyzes content and extracts semantic data
4. Creates draft Entry with extracted information

---

### 4.2 ‚ÄúJust Remember This‚Äù
üì∑ / üìù ‚Üí quick `noted` entry

Used for:
- ideas
- things to remember
- places seen
- items spotted

---

### 4.3 ‚ÄúPlan from Input‚Äù
üìù ‚Äú–•–æ—á—É‚Ä¶‚Äù / screenshot ‚Üí `planned` entry

Examples:
- ‚Äú–•–æ—á—É —Å—Ö–æ–¥–∏—Ç—å –≤ —ç—Ç–æ –∫–∞—Ñ–µ‚Äù
- Booking screenshot (future date)

---

### 4.4 Action Refinement (Optional)

AI may suggest:
> ‚ÄúThis looks like **visited + place**,  
> but you can also mark it as **spent + money**.‚Äù

User decides.

---

## 5. AI Non-Goals (MVP)

AI must NOT:
- auto-save without confirmation
- change existing entries silently
- create multiple entries from one input
- infer emotions or intentions beyond data
- perform accounting logic
- give advice

---

## 6. AI Output Schema (Canonical)

```json
{
  "action": "visited | noted | planned | spent | received | lent | borrowed | returned | bought | gave | took",
  "object": "money | place | food | item | service | wish | task | note",
  "title": "string",
  "amount": number | null,
  "currency": "string | null",
  "category": "string | null",
  "tags": ["string"],
  "people": ["string"],
  "placeText": "string | null",
  "confidence": number
}
````

---

## 7. AI Safety & Fallback Rules

* If confidence < threshold ‚Üí show warning
* If action/object unclear ‚Üí fallback to `noted + note`
* Never overwrite user input
* Always log `aiRaw` for debugging

---

## 8. UX Principles for AI

* AI is **one button**, not a mode
* AI results are **drafts**
* User stays in control
* Fast > smart

---

## 9. Future AI Extensions (Not MVP)

* Semantic search (‚Äúwhere did I eat ramen?‚Äù)
* Daily/weekly summaries
* ‚ÄúMemory resurfacing‚Äù (you were here last year)
* Linking related entries
* Natural language Q&A over entries

---

## 10. Product Philosophy

Pickpock AI is:

* not a financial advisor
* not a planner
* not a chatbot

Pickpock AI is:

> **a semantic extractor for human memory**

---

## 11. One-Line Rule

> If AI cannot clearly explain
> **what happened and with what**,
> it must do nothing.

-----

```md
# AI Concept ‚Äî Pickpock

Pickpock uses AI not as a chatbot, but as a **semantic memory assistant**.
The goal of AI is to **accurately capture what happened** and help the user
**find it later by meaning, not by exact words**.

---

## Core AI Idea

AI in Pickpock works in two phases:

1. **Semantic capture** ‚Äî carefully collecting structured and descriptive information
2. **Semantic recall** ‚Äî helping the user find past events by vague memories

AI never replaces the user‚Äôs intent ‚Äî it only supports memory.

---

## Phase 1: Semantic Capture (Understanding What Happened)

When the user adds a photo, screenshot, receipt or text, AI tries to understand:

- what kind of event this is
- what objects are involved
- what exactly is shown
- where it happened
- what makes this event unique

AI extracts **both structured and descriptive data**.

### What AI can recognize

#### From receipts
- total amount and currency
- items or dishes
- restaurant or store name
- date and time
- food or product names
- nutritional or descriptive info if present

#### From food photos
- type of dish
- main ingredients
- visual description (e.g. ‚Äúsalad with shrimp‚Äù)
- possible calories if visible on menu
- place context if recognizable

#### From place photos
- cafe / restaurant / shop / interior
- atmosphere clues (bar, cafe, fast food, fine dining)
- visual landmarks
- possible venue name

#### From screenshots
- bank transactions
- transfers and balances
- booking confirmations
- chats related to money, plans or events

---

## What AI Stores in Memory

AI does not store ‚Äújust a fact‚Äù.
It builds a **rich memory snapshot**, including:

- action (what happened)
- object (what it relates to)
- title (human-readable summary)
- structured fields (amount, date, place)
- descriptive metadata (dish name, ingredients, product details)
- tags and keywords
- original attachment

This metadata makes future recall possible even with incomplete memory.

---

## Phase 2: Semantic Recall (Finding What You Don‚Äôt Remember Clearly)

Later, the user may remember only fragments:

- ‚ÄúI ate some shrimp salad somewhere‚Äù
- ‚ÄúI bought something expensive, but don‚Äôt remember where‚Äù
- ‚ÄúThat cafe with good pasta‚Äù
- ‚ÄúI lent money once, not sure to whom‚Äù

AI uses stored semantic data to:
- search by meaning, not exact text
- match vague descriptions to past events
- surface relevant entries with explanations

Example:
> ‚ÄúYou ate a shrimp salad at Cafe ABC in March.‚Äù

---

## AI Behavior Principles

- AI always proposes, never decides
- AI never overwrites user input
- AI prefers missing data over invented data
- AI falls back to neutral memory (`noted`) if unsure
- AI keeps raw extracted data for transparency

---

## Why This Matters

Most apps store data.
Pickpock stores **memory**.

By capturing rich semantic context upfront,
AI makes it possible to rediscover moments,
places and details that would otherwise be lost.

---

## One-Line Summary

Pickpock AI first **listens carefully to life**,
and later **helps you remember it better than you could alone**.
```

